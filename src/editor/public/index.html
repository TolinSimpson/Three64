<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Three64 Editor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Toolbar -->
  <header id="toolbar">
    <div class="toolbar-group">
      <button id="btn-new" title="New Scene">New</button>
      <button id="btn-open" title="Open GLB">Open</button>
      <button id="btn-save" title="Save GLB to project">Save</button>
      <button id="btn-export" title="Download GLB">Export</button>
    </div>
    <div class="toolbar-separator"></div>
    <div class="toolbar-group">
      <button id="btn-translate" class="tool-btn active" title="Translate (W)">W Move</button>
      <button id="btn-rotate" class="tool-btn" title="Rotate (E)">E Rotate</button>
      <button id="btn-scale" class="tool-btn" title="Scale (R)">R Scale</button>
    </div>
    <div class="toolbar-separator"></div>
    <div class="toolbar-group">
      <button id="btn-space" title="Toggle Local/World">World</button>
      <label class="toolbar-label">
        <input type="checkbox" id="chk-snap"> Snap
      </label>
      <input type="number" id="snap-translate" value="1" step="0.25" min="0.1" title="Translate snap" class="snap-input">
      <input type="number" id="snap-rotate" value="15" step="5" min="1" title="Rotate snap (deg)" class="snap-input">
      <input type="number" id="snap-scale" value="0.1" step="0.05" min="0.01" title="Scale snap" class="snap-input">
    </div>
    <div class="toolbar-spacer"></div>
    <div class="toolbar-group">
      <span id="status-text" class="status-text">Three64 Editor</span>
    </div>
  </header>

  <!-- Main layout -->
  <div id="main">
    <!-- Left sidebar: Asset Library -->
    <aside id="panel-left" class="panel">
      <div class="panel-header">Assets</div>
      <div id="asset-list" class="panel-body"></div>
    </aside>

    <!-- Center: 3D Viewport -->
    <div id="viewport-container">
      <canvas id="viewport-canvas"></canvas>
    </div>

    <!-- Right sidebar: Hierarchy + Inspector -->
    <aside id="panel-right" class="panel">
      <div class="panel-section" id="hierarchy-section">
        <div class="panel-header">Hierarchy</div>
        <div id="hierarchy-tree" class="panel-body"></div>
      </div>
      <div class="panel-resize-handle" id="right-panel-divider"></div>
      <div class="panel-section" id="inspector-section">
        <div class="panel-header">Inspector</div>
        <div id="inspector-content" class="panel-body">
          <p class="placeholder-text">Select an object</p>
        </div>
      </div>
    </aside>
  </div>

  <!-- Context menu (hidden by default) -->
  <div id="context-menu" class="context-menu" style="display:none;">
    <div class="context-item" data-action="duplicate">Duplicate</div>
    <div class="context-item" data-action="rename">Rename</div>
    <div class="context-item" data-action="delete">Delete</div>
  </div>

  <!-- Save dialog (hidden by default) -->
  <div id="save-dialog" class="modal-overlay" style="display:none;">
    <div class="modal">
      <div class="modal-header">Save Scene</div>
      <div class="modal-body">
        <label>Filename:
          <input type="text" id="save-filename" value="scene.glb" class="modal-input">
        </label>
      </div>
      <div class="modal-footer">
        <button id="save-confirm" class="btn-primary">Save</button>
        <button id="save-cancel">Cancel</button>
      </div>
    </div>
  </div>

  <script type="importmap">
  {
    "imports": {
      "three": "/three/three.module.js",
      "three/addons/": "/three/addons/"
    }
  }
  </script>
  <script type="module" src="js/main.js"></script>
</body>
</html>
